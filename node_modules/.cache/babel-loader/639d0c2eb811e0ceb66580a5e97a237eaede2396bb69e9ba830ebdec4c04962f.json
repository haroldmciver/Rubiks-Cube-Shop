{"ast":null,"code":"import _defineProperty from\"/Users/haroldmciver/rubiksstore/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/haroldmciver/rubiksstore/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/haroldmciver/rubiksstore/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useEffect,useState}from\"react\";import{MenuList}from\"../helpers/MenuList\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ShopContext=/*#__PURE__*/createContext(null);var getDefaultCart=function getDefaultCart(){var cart={};for(var i=1;i<MenuList.length+1;i++){cart[i]=0;}return cart;};export var ShopContextProvider=function ShopContextProvider(props){var _useState=useState(getDefaultCart()),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var getTotalCartAmount=function getTotalCartAmount(){var totalAmount=0;var _loop=function _loop(item){if(cartItems[item]>0){var itemInfo=MenuList.find(function(product){return product.id===Number(item);});totalAmount+=cartItems[item]*itemInfo.price;}};for(var item in cartItems){_loop(item);}return totalAmount;};var addToCart=function addToCart(itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,prev[itemId]+1));});};var removeFromCart=function removeFromCart(itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,prev[itemId]-1));});};var updateCartItemCount=function updateCartItemCount(newAmount,itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,newAmount));});};var checkout=function checkout(){setCartItems(getDefaultCart());};var contextValue={cartItems:cartItems,addToCart:addToCart,updateCartItemCount:updateCartItemCount,removeFromCart:removeFromCart,getTotalCartAmount:getTotalCartAmount,checkout:checkout};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:props.children});};","map":{"version":3,"names":["createContext","useEffect","useState","MenuList","jsx","_jsx","ShopContext","getDefaultCart","cart","i","length","ShopContextProvider","props","_useState","_useState2","_slicedToArray","cartItems","setCartItems","getTotalCartAmount","totalAmount","_loop","item","itemInfo","find","product","id","Number","price","addToCart","itemId","prev","_objectSpread","_defineProperty","removeFromCart","updateCartItemCount","newAmount","checkout","contextValue","Provider","value","children"],"sources":["/Users/haroldmciver/rubiksstore/src/context/shop-context.jsx"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\nimport { MenuList } from \"../helpers/MenuList\";\n\nexport const ShopContext = createContext(null);\n\nconst getDefaultCart = () => {\n  let cart = {};\n  for (let i = 1; i < MenuList.length + 1; i++) {\n    cart[i] = 0;\n  }\n  return cart;\n};\n\nexport const ShopContextProvider = (props) => {\n  const [cartItems, setCartItems] = useState(getDefaultCart());\n\n  const getTotalCartAmount = () => {\n    let totalAmount = 0;\n    for (const item in cartItems) {\n      if (cartItems[item] > 0) {\n        let itemInfo = MenuList.find((product) => product.id === Number(item));\n        totalAmount += cartItems[item] * itemInfo.price;\n      }\n    }\n    return totalAmount;\n  };\n\n  const addToCart = (itemId) => {\n    setCartItems((prev) => ({ ...prev, [itemId]: prev[itemId] + 1 }));\n  };\n\n  const removeFromCart = (itemId) => {\n    setCartItems((prev) => ({ ...prev, [itemId]: prev[itemId] - 1 }));\n  };\n\n  const updateCartItemCount = (newAmount, itemId) => {\n    setCartItems((prev) => ({ ...prev, [itemId]: newAmount }));\n  };\n\n  const checkout = () => {\n    setCartItems(getDefaultCart());\n  };\n\n  const contextValue = {\n    cartItems,\n    addToCart,\n    updateCartItemCount,\n    removeFromCart,\n    getTotalCartAmount,\n    checkout,\n  };\n\n  return (\n    <ShopContext.Provider value={contextValue}>\n      {props.children}\n    </ShopContext.Provider>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}